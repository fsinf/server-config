<Macro ssl $hostname $class>
    SSLEngine on

    SSLCertificateFile /etc/ssl/public/$hostname.pem
    SSLCertificateKeyFile /etc/ssl/private/$hostname.key
    SSLCertificateChainFile /etc/ssl/certs/StartCom_Certification_Authority_$class.pem
    SSLCACertificateFile /etc/ssl/certs/StartCom_Certification_Authority.pem

    # SSL hardening
    SSLProtocol all -SSLv2 -SSLv3
    SSLHonorCipherOrder On
    SSLCompression off
    SSLCipherSuite 'DH:ECDH:!AES128:!CAMELLIA128:!3DES:!MD5:!RC4:!aNULL:!NULL:!EXPORT:!LOW:!MEDIUM'
    SSLUseStapling on

    SetEnvIf User-Agent ".*MSIE.*" nokeepalive ssl-unclean-shutdown
    Header set Strict-Transport-Security "max-age=16070400; includeSubDomains"
</Macro>
